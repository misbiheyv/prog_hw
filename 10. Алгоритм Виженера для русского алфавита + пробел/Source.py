word, key, command = ['абвгдеёжзийклмнопрстуфхцчшщъыьэюяАБВГДЕЁЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ '.find(x) for x in input('Слово: ')], ['абвгдеёжзийклмнопрстуфхцчшщъыьэюяАБВГДЕЁЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ '.find(x) for x in input('Ключ: ')], input('1) Зашифровать\n2) Расшифровать\nКомманда: ')[0]
print(''.join(['абвгдеёжзийклмнопрстуфхцчшщъыьэюяАБВГДЕЁЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ '[(x + key[i % len(key)]) % 67] for i, x in enumerate(word)]) if command == '1' else ''.join(['абвгдеёжзийклмнопрстуфхцчшщъыьэюяАБВГДЕЁЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ '[(x - key[i % len(key)]) % 67] for i, x in enumerate(word)]))